# 🔄 TaskBuddy User Flow

Детальные пользовательские сценарии и потоки взаимодействия

---

## 📊 Карта навигации приложения

```
                    ┌─────────────────┐
                    │   Landing (/)   │
                    │                 │
                    │  🚀 Начать      │
                    │     работу      │
                    └────────┬────────┘
                             │
                    ┌────────▼────────┐
                    │   App (/app)    │◄─────┐
                    │                 │      │
                    │  Главный экран  │      │
                    └─┬─┬─┬─┬─┬─┬────┘      │
                      │ │ │ │ │ │           │
        ┌─────────────┘ │ │ │ │ └───────────┼────────┐
        │               │ │ │ │             │        │
        │  ┌────────────┘ │ │ └─────────────┘        │
        │  │              │ │                         │
        │  │  ┌───────────┘ └─────────────┐          │
        │  │  │                           │          │
        ▼  ▼  ▼                           ▼          ▼
    ┌─────┐ ┌────┐ ┌──────────┐    ┌──────────┐  ┌────────┐
    │ Add │ │Edit│ │  Delete  │    │ Calendar │  │Settings│
    │Task │ │Task│ │   Task   │    │ (/cal)   │  │ (/set) │
    └─────┘ └────┘ └──────────┘    └──────────┘  └────────┘
       │      │         │               │              │
       │      │         │               │              │
       └──────┴─────────┴───────────────┴──────────────┘
                             │
                    ┌────────▼────────┐
                    │   Обновление    │
                    │   состояния     │
                    └─────────────────┘
```

---

## 🎯 Основные пользовательские сценарии

### 1. 🆕 Первое посещение и онбординг

```
Шаг 1: Посадочная страница
┌─────────────────────────────────┐
│         Landing Page            │
│                                 │
│  [Logo] TaskBuddy               │
│                                 │
│  Управляй задачами легко! 🎯    │
│  ├─ Организуй задачи            │
│  ├─ Следи за прогрессом         │
│  └─ Достигай целей              │
│                                 │
│  [Начать работу] ←─────────────┐│
└─────────────────────────────────┘│
                                   │
                                   ▼
Шаг 2: Главный экран
┌─────────────────────────────────┐
│         App Page                │
│                                 │
│  Привет! 👋                     │
│  Сегодня отличный день для      │
│  продуктивности                 │
│                                 │
│  [Личные цели] [Учёба]          │
│                                 │
│  📊 Статистика: 0/0              │
│                                 │
│  ┌─ Пусто ─────────────────┐    │
│  │  📥 Задач не найдено     │    │
│  │                          │    │
│  │  Создайте свою первую    │    │
│  │  задачу, чтобы начать    │    │
│  │                          │    │
│  │  [+ Добавить задачу] ◄──┐│    │
│  └──────────────────────────┘│   │
└─────────────────────────────┘│   │
                               │   │
                               ▼   │
Шаг 3: Создание первой задачи     │
┌─────────────────────────────────┐│
│    Диалог "Новая задача"    │   │
│                                 ││
│  Название задачи *              ││
│  [________________]             ││
│                                 ││
│  Категория                      ││
│  [Личное      ▼]                ││
│                                 ││
│  Приоритет                      ││
│  [Средний     ▼]                ││
│                                 ││
│  Дата выполнения                ││
│  [13.10.2025  📅]               ││
│                                 ││
│  Описание (необязательно)       ││
│  [________________]             ││
│                                 ││
│  [Отмена] [Создать] ◄───────────┘
└─────────────────────────────────┘
                │
                ▼
Шаг 4: Успешное создание
┌─────────────────────────────────┐
│  ✅ Toast уведомление           │
│  Задача создана! 🎉             │
│  "Моя задача" добавлена         │
└─────────────────────────────────┘
                │
                ▼
Шаг 5: Задача в списке
┌─────────────────────────────────┐
│  Мои задачи                     │
│                                 │
│  ┌─ Задача ───────────────────┐ │
│  │ ☐ Моя задача               │ │
│  │   🟡 Средний  👤 Личное    │ │
│  │   📅 13 окт            ⋮   │ │
│  └────────────────────────────┘ │
└─────────────────────────────────┘
```

**Ключевые моменты:**
- Пустое состояние показывает четкий call-to-action
- Форма создания проста и понятна
- Toast подтверждает действие
- Задача сразу появляется в списке

---

### 2. ✏️ Редактирование задачи

```
Начальное состояние
┌─────────────────────────────────┐
│  ┌─ Задача ───────────────────┐ │
│  │ ☐ Подготовить презентацию  │ │
│  │   🔴 Высокий  🎓 Учёба     │ │
│  │   📅 14 окт            ⋮──┐│ │
│  └────────────────────────────┘││
└─────────────────────────────────┘│
                                   │
                   Клик на ⋮       │
                                   ▼
Открытие меню
┌─────────────────────────────────┐
│  ┌─ Меню действий ────────────┐ │
│  │                            │ │
│  │ ✓ Отметить выполненной     │ │
│  │ ✏️ Редактировать    ◄──────┼─┐
│  │ 🗑️ Удалить                 │ ││
│  │                            │ ││
│  └────────────────────────────┘ ││
└─────────────────────────────────┘│
                                   │
                   Клик "Редактировать"
                                   ▼
Открытие диалога редактирования
┌─────────────────────────────────┐
│  Редактирование задачи          │
│                                 │
│  Название задачи *              │
│  [Подготовить презентацию]      │
│                                 │
│  Категория                      │
│  [Учёба       ▼]                │
│                                 │
│  Приоритет                      │
│  [Высокий     ▼] ◄──────────────┼─┐
│                                 │ │
│  Дата выполнения                │ │
│  [14.10.2025  📅]               │ │
│                                 │ │
│  [Отмена] [Сохранить] ◄─────────┼─┘
└─────────────────────────────────┘
                │                 │
     Изменение на "Средний"       │
                │                 │
                ▼                 │
    Клик "Сохранить"              │
                │                 │
                ▼                 │
┌─────────────────────────────────┐
│  ✅ Toast                       │
│  Задача обновлена! ✏️           │
│  "Подготовить презентацию"      │
│  успешно изменена               │
└─────────────────────────────────┘
                │
                ▼
Обновленная задача
┌─────────────────────────────────┐
│  ┌─ Задача ───────────────────┐ │
│  │ ☐ Подготовить презентацию  │ │
│  │   🟡 Средний  🎓 Учёба  ◄──┼─┐
│  │   📅 14 окт            ⋮   │ ││
│  └────────────────────────────┘ ││
└─────────────────────────────────┘│
         Приоритет изменился       │
                                   ▲
```

**Ключевые моменты:**
- Меню с 3 точками интуитивно понятно
- Форма предзаполнена текущими данными
- Изменения применяются мгновенно
- Toast подтверждает успешное обновление

---

### 3. 🗑️ Удаление задачи

```
Начальное состояние
┌─────────────────────────────────┐
│  ┌─ Задача ───────────────────┐ │
│  │ ☑ Выучить 20 слов          │ │
│  │   🟡 Средний  🎓 Учёба     │ │
│  │   📅 13 окт            ⋮──┐│ │
│  └────────────────────────────┘││
└─────────────────────────────────┘│
                                   │
                   Клик на ⋮       │
                                   ▼
Открытие меню
┌─────────────────────────────────┐
│  ┌─ Меню действий ────────────┐ │
│  │                            │ │
│  │ ↩️ Вернуть в работу         │ │
│  │ ✏️ Редактировать            │ │
│  │ 🗑️ Удалить        ◄─────────┼─┐
│  │   (красным цветом)         │ ││
│  │                            │ ││
│  └────────────────────────────┘ ││
└─────────────────────────────────┘│
                                   │
                   Клик "Удалить"  │
                                   ▼
Диалог подтверждения
┌─────────────────────────────────┐
│  ⚠️  Удалить задачу?             │
│                                 │
│  Вы уверены, что хотите удалить │
│  эту задачу? Это действие       │
│  нельзя отменить.               │
│                                 │
│  Задача: "Выучить 20 слов"      │
│                                 │
│  [Отмена] [Удалить] ◄───────────┼─┐
│          (красная кнопка)       │ │
└─────────────────────────────────┘ │
                │                   │
    Подтверждение удаления          │
                │                   │
                ▼                   │
┌─────────────────────────────────┐ │
│  ✅ Toast                       │ │
│  Задача удалена 🗑️              │ │
│  "Выучить 20 слов" удалена      │ │
│  из списка                      │ │
└─────────────────────────────────┘ │
                │                   │
                ▼                   │
Задача исчезла из списка            │
┌─────────────────────────────────┐ │
│  ┌─ Задача 1 ─────────────────┐ │ │
│  │ ☐ Другая задача            │ │ │
│  └────────────────────────────┘ │ │
│                                 │ │
│  ┌─ Задача 2 ─────────────────┐ │ │
│  │ ☐ Еще одна задача          │ │ │
│  └────────────────────────────┘ │ │
│                                 │ │
│  (Удаленной задачи нет) ◄───────┼─┘
└─────────────────────────────────┘
```

**Ключевые моменты:**
- Диалог подтверждения предотвращает случайное удаление
- Показывается название удаляемой задачи
- Кнопка "Удалить" красная для предупреждения
- Задача сразу исчезает после подтверждения

---

### 4. 🔍 Фильтрация задач

```
Начальное состояние (все задачи)
┌─────────────────────────────────┐
│  Мои задачи        [+ Добавить] │
│                                 │
│  🔍 Фильтры:                    │
│  [Все задачи ▼] [Любой ▼] [▼]  │
│                                 │
│  Показано: 5 задач              │
│                                 │
│  ┌─ 🔴 Высокий приоритет ─────┐ │
│  ┌─ 🔴 Высокий приоритет ─────┐ │
│  ┌─ 🟡 Средний приоритет ─────┐ │
│  ┌─ 🟡 Средний приоритет ─────┐ │
│  ┌─ 🟢 Низкий приоритет ──────┐ │
└─────────────────────────────────┘
                │
    Клик на фильтр приоритета
                │
                ▼
Выбор высокого приоритета
┌─────────────────────────────────┐
│  🔍 Фильтры:                    │
│  [Все ▼] [🔴 Высокий ▼] [Все ▼]│
│           ▲                     │
│           │                     │
│      ┌────┴─────┐               │
│      │ Все      │               │
│      │ 🔴 Высокий◄──────────────┼─┐
│      │ 🟡 Средний│              │ │
│      │ 🟢 Низкий │              │ │
│      └──────────┘               │ │
└─────────────────────────────────┘ │
                │                   │
        Выбран "Высокий"            │
                │                   │
                ▼                   │
Отфильтрованный список              │
┌─────────────────────────────────┐ │
│  Мои задачи        [+ Добавить] │ │
│                                 │ │
│  🔍 Фильтры:                    │ │
│  [Все ▼] [🔴 Высокий ▼] [Все ▼]│ │
│  [× Сбросить] ◄─────────────────┼─┼─┐
│                                 │ │ │
│  Показано: 2 задачи             │ │ │
│                                 │ │ │
│  ┌─ 🔴 Задача 1 ──────────────┐ │ │ │
│  ┌─ 🔴 Задача 2 ──────────────┐ │ │ │
│                                 │ │ │
│  (Только высокий приоритет) ◄───┼─┘ │
└─────────────────────────────────┘   │
                │                     │
    Клик "Сбросить"                   │
                │                     │
                ▼                     │
Все фильтры сброшены                  │
┌─────────────────────────────────┐   │
│  🔍 Фильтры:                    │   │
│  [Все ▼] [Любой ▼] [Все ▼]     │   │
│                                 │   │
│  Показано: 5 задач              │   │
│                                 │   │
│  ┌─ Все задачи вернулись ◄──────┼───┘
└─────────────────────────────────┘

Сценарий: нет результатов
┌─────────────────────────────────┐
│  🔍 Фильтры:                    │
│  [Выполненные ▼] [🔴 Высокий ▼]│
│  [🏠 Дом ▼] [× Сбросить]        │
│                                 │
│  ┌─ Пусто ─────────────────────┐│
│  │  📥 Задач не найдено         ││
│  │                              ││
│  │  Попробуйте изменить фильтры ││
│  │  или создайте новую задачу   ││
│  │                              ││
│  │  [× Сбросить фильтры] ◄──────┼┼─┐
│  └──────────────────────────────┘│ │
└─────────────────────────────────┘ │
                                    │
            Сброс возвращает задачи │
```

**Ключевые моменты:**
- Фильтры применяются мгновенно
- Кнопка "Сбросить" появляется только с активными фильтрами
- Счетчик показывает количество найденных задач
- Пустое состояние предлагает сбросить фильтры

---

### 5. ✅ Отметка задачи выполненной

```
Способ 1: Через чекбокс
┌─────────────────────────────────┐
│  ┌─ Задача ───────────────────┐ │
│  │ ☐ ◄─ Клик                  │ │
│  │   Записаться к стоматологу │ │
│  │   🟡 Средний  👤 Личное    │ │
│  └────────────────────────────┘ │
└─────────────────────────────────┘
                │
      Мгновенное обновление
                │
                ▼
┌─────────────────────────────────┐
│  ┌─ Задача (выполнена) ────────┐│
│  │ ☑ Записаться к стоматологу  ││
│  │   ──────────────────────     ││
│  │   (перечеркнуто)             ││
│  │   🟡 Средний  👤 Личное      ││
│  │   Opacity: 60%               ││
│  └──────────────────────────────┘│
└─────────────────────────────────┘

Способ 2: Через меню
┌─────────────────────────────────┐
│  ┌─ Задача ───────────────────┐ │
│  │ ☐ Закончить UI дизайн      │ │
│  │   🔴 Высокий  📁 Проекты   │ │
│  │                        ⋮──┐│ │
│  └────────────────────────────┘││
└─────────────────────────────────┘│
                                   │
                   Клик на ⋮       │
                                   ▼
┌─────────────────────────────────┐
│  ┌─ Меню ─────────────────────┐ │
│  │ ✓ Отметить выполненной ◄───┼─┼─┐
│  │ ✏️ Редактировать            │ ││
│  │ 🗑️ Удалить                 │ ││
│  └────────────────────────────┘ ││
└─────────────────────────────────┘│
                │                  │
        Мгновенная отметка         │
                │                  │
                ▼                  │
┌─────────────────────────────────┐│
│  ┌─ Задача (выполнена) ────────┐││
│  │ ☑ Закончить UI дизайн ◄─────┼┼┘
│  │   ─────────────────          ││
│  │   🔴 Высокий  📁 Проекты     ││
│  │   Opacity: 60%           ⋮  ││
│  └──────────────────────────────┘│
└─────────────────────────────────┘
                │
    Теперь меню изменилось
                │
                ▼
┌─────────────────────────────────┐
│  ┌─ Меню ─────────────────────┐ │
│  │ ↩️ Вернуть в работу ◄────────┼─┐
│  │ ✏️ Редактировать            │ │
│  │ 🗑️ Удалить                 │ │
│  └────────────────────────────┘ │
└─────────────────────────────────┘
          Можно отменить
```

**Ключевые моменты:**
- Два способа отметить: чекбокс (быстро) или меню
- Визуальная обратная связь: перечеркивание, opacity
- Меню меняется на "Вернуть в работу"
- Статистика обновляется автоматически

---

### 6. 📅 Работа с календарем

```
Переход на календарь
┌─────────────────────────────────┐
│  Nav: [Главная] [Календарь] ◄───┼─┐
│                                 │ │
└─────────────────────────────────┘ │
                │                   │
        Клик "Календарь"            │
                │                   │
                ▼                   │
┌─────────────────────────────────┐ │
│     Страница календаря          │ │
│                                 │ │
│  ┌───────────┬─────────────────┐│ │
│  │ Октябрь   │ Задачи на       ││ │
│  │ 2025      │ 13 октября      ││ │
│  │           │                 ││ │
│  │ Пн Вт Ср  │ 🔍 Фильтры      ││ │
│  │  1  2  3  │                 ││ │
│  │  8  9 10  │ ┌─ Задача 1 ──┐││ │
│  │ 15 16 17  │ ┌─ Задача 2 ──┐││ │
│  │ 22 23 24  │ ┌─ Задача 3 ──┐││ │
│  │           │                 ││ │
│  └───────────┴─────────────────┘│ │
└─────────────────────────────────┘ │
                                    │
Выбор даты                          │
┌─────────────────────────────────┐ │
│  │ Октябрь   │                 │ │
│  │ 2025      │                 │ │
│  │           │                 │ │
│  │ Пн Вт Ср  │                 │ │
│  │  1  2  3  │                 │ │
│  │  8  9 10  │                 │ │
│  │ 15 16 17◄─┼─────────────────┼─┼─┐
│  │     ▲     │                 │ │ │
│  │   Клик    │                 │ │ │
│  │           │                 │ │ │
│  └───────────┴─────────────────┘ │ │
└─────────────────────────────────┘ │ │
                │                   │ │
    Задачи обновляются              │ │
                │                   │ │
                ▼                   │ │
┌─────────────────────────────────┐ │ │
│  │           │ Задачи на       │ │ │
│  │           │ 17 октября ◄────┼─┼─┘
│  │           │                 │ │
│  │           │ 📥 Нет задач    │ │
│  │           │    на эту дату  │ │
│  │           │                 │ │
│  │           │ [+ Добавить] ◄──┼─┼─┐
│  │           │                 │ │ │
│  └───────────┴─────────────────┘ │ │
└─────────────────────────────────┘ │ │
                                    │ │
Создание задачи на дату             │ │
┌─────────────────────────────────┐ │ │
│  Новая задача                   │ │ │
│                                 │ │ │
│  Дата: 17 октября 2025 ◄────────┼─┼─┘
│        (предзаполнена)          │ │
│                                 │ │
│  Название: [________]           │ │
│  ...                            │ │
└─────────────────────────────────┘ │
                                    │
Индикаторы на календаре             │
┌─────────────────────────────────┐ │
│  │ Октябрь   │                 │ │
│  │ 2025      │                 │ │
│  │           │                 │ │
│  │ Пн Вт Ср  │                 │ │
│  │ 13• 14• 15│ ◄───────────────┼─┘
│  │     ▲  ▲  │   Оранжевые точки
│  │     Есть задачи             │
│  │           │                 │
│  └───────────┴─────────────────┘
└─────────────────────────────────┘
```

**Ключевые моменты:**
- Визуальные индикаторы (точки) показывают даты с задачами
- Клик по дате загружает задачи справа
- Пустая дата предлагает создать задачу
- Дата автоматически предзаполняется при создании

---

### 7. 🔄 Переключение режимов (Личное / Учёба)

```
Режим "Личные цели"
┌─────────────────────────────────┐
│  [Личные цели●] [Учёба○]        │
│       ▲                         │
│    Активен                      │
│                                 │
│  📊 Выполнено: 2/5              │
│                                 │
│  ┌─ 💼 Работа ─────────────────┐│
│  ┌─ 👤 Личное ─────────────────┐│
│  ┌─ 🏠 Дом ────────────────────┐│
│  ┌─ 📁 Проекты ────────────────┐│
│  └─────────────────────────────┘│
└─────────────────────────────────┘
                │
    Клик на "Учёба"
                │
                ▼
Переключение режима
┌─────────────────────────────────┐
│  [Личные цели○] [Учёба●] ◄──────┼─┐
│                    ▲            │ │
│                 Активен         │ │
│                                 │ │
│  📊 Выполнено: 1/3 ◄────────────┼─┼─┐
│      (новая статистика)         │ │ │
│                                 │ │ │
│  ┌─ 🎓 Учёба ──────────────────┐│ │ │
│  ┌─ 🎓 Учёба ──────────────────┐│ │ │
│  ┌─ 🎓 Учёба ──────────────────┐│ │ │
│  └─────────────────────────────┘│ │ │
│                                 │ │ │
│  (Показаны только задачи с  ◄───┼─┼─┘
│   mode: 'study')                │ │
└─────────────────────────────────┘ │
                                    │
Вернуться обратно                   │
┌─────────────────────────────────┐ │
│  [Личные цели●] [Учёба○] ◄──────┼─┘
│                                 │
│  📊 Выполнено: 2/5              │
│                                 │
│  (Вернулись личные задачи)      │
└─────────────────────────────────┘
```

**Ключевые моменты:**
- Мгновенное переключение без перезагрузки
- Статистика пересчитывается для выбранного режима
- Задачи фильтруются по полю `mode`
- Визуальная индикация активного режима

---

## 🎨 Состояния интерфейса

### Пустые состояния (Empty States)

```
1. Нет задач (первое посещение)
┌─────────────────────────────────┐
│        📥                       │
│    Задач не найдено             │
│                                 │
│  Создайте свою первую задачу,   │
│  чтобы начать                   │
│                                 │
│  [+ Добавить задачу]            │
└─────────────────────────────────┘

2. Нет задач после фильтрации
┌─────────────────────────────────┐
│        📥                       │
│    Задач не найдено             │
│                                 │
│  Попробуйте изменить фильтры    │
│  или создайте новую задачу      │
│                                 │
│  [× Сбросить фильтры]           │
└─────────────────────────────────┘

3. Нет задач на дату (календарь)
┌─────────────────────────────────┐
│        📅                       │
│   Нет задач на эту дату         │
│                                 │
│  [+ Добавить задачу]            │
└─────────────────────────────────┘
```

### Состояния загрузки

```
Скелетон загрузки задач
┌─────────────────────────────────┐
│  ┌─ ▭▭▭▭▭▭▭▭▭▭▭▭▭ ─────────┐   │
│  │ ▭ ▭▭▭▭▭▭▭▭▭▭▭              │   │
│  │   ▭▭▭  ▭▭▭▭  ▭▭▭▭          │   │
│  └─────────────────────────────┘   │
│  ┌─ ▭▭▭▭▭▭▭▭▭▭▭▭▭ ─────────┐   │
│  │ ▭ ▭▭▭▭▭▭▭▭▭▭▭              │   │
│  │   ▭▭▭  ▭▭▭▭  ▭▭▭▭          │   │
│  └─────────────────────────────┘   │
└─────────────────────────────────┘
  Пульсирующая анимация (shimmer)
```

### Состояния ошибок

```
Ошибка загрузки
┌─────────────────────────────────┐
│        ⚠️                        │
│   Не удалось загрузить задачи   │
│                                 │
│  Проверьте подключение к сети   │
│                                 │
│  [↻ Повторить попытку]          │
└─────────────────────────────────┘

Ошибка валидации формы
┌─────────────────────────────────┐
│  Новая задача                   │
│                                 │
│  Название задачи *              │
│  [________________]             │
│  ⚠️ Обязательное поле            │
│                                 │
│  [Создать] (disabled)           │
└─────────────────────────────────┘
```

---

## 📐 Адаптивность (Responsive)

### Desktop (1440px+)
```
┌─────────────────────────────────────┐
│  Navigation (full width)            │
├──────────────┬──────────────────────┤
│              │                      │
│  Main        │  Sidebar             │
│  Content     │  (Calendar)          │
│  (2/3)       │  (1/3)               │
│              │                      │
└──────────────┴──────────────────────┘
```

### Tablet (768px - 1439px)
```
┌─────────────────────────────────────┐
│  Navigation (hamburger)             │
├─────────────────────────────────────┤
│                                     │
│  Main Content (full width)          │
│                                     │
│                                     │
├─────────────────────────────────────┤
│  Sidebar (below)                    │
└─────────────────────────────────────┘
```

### Mobile (< 768px)
```
┌─────────────┐
│  Nav (mini) │
├─────────────┤
│             │
│   Content   │
│   (stack)   │
│             │
├─────────────┤
│  Bottom nav │
└─────────────┘
```

---

## ⌨️ Keyboard Shortcuts (будущее)

```
Глобальные:
  N - Новая задача
  / - Фокус на поиск
  ? - Показать хелп

Навигация:
  G → H - Go to Home
  G → C - Go to Calendar
  G → S - Go to Settings

В списке задач:
  J/K - Навигация вниз/вверх
  Space - Toggle checkbox
  E - Edit
  Del - Delete
  Enter - Open details
```

---

## 🎯 Ключевые принципы UX

1. **Instant Feedback** - Все действия дают мгновенную обратную связь
2. **Progressive Disclosure** - Сложность раскрывается постепенно
3. **Undo/Redo** - Критичные действия (удаление) требуют подтверждения
4. **Smart Defaults** - Формы предзаполнены разумными значениями
5. **Zero State** - Пустые состояния всегда предлагают действие
6. **Consistent Patterns** - Одинаковые действия работают одинаково

---

**Версия:** 1.0  
**Дата:** Октябрь 2025  
**Статус:** Актуально
